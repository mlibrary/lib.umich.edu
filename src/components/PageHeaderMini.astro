---
import Breadcrumb from './Breadcrumb.astro';
import { generateBreadcrumb } from '../../plugins/create-breadcrumb-astro';
import Heading from '../reusable/heading.astro';

const { breadcrumb, title } = Astro.props;

// Use the breadcrumb prop directly if provided, otherwise generate default
let breadcrumbData = breadcrumb;
if (!breadcrumbData) {
  // Only generate breadcrumb if none provided
  breadcrumbData = generateBreadcrumb(
    { title: title, slug: '/current' },
    [{ title: 'Parent', slug: '/parent' }]
  );
}

//console.log(Astro.props);
---

<header class="page-header-mini">
    <div class="margins">
        {breadcrumbData && <Breadcrumb data={breadcrumbData} />}
        <Heading level={1} size="3XL" data-page-heading>
          {title}
        </Heading>
    </div>
</header>

<style>
.page-header-mini{
    background-color: var(--color-blue-100);
}
</style>