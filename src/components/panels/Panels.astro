---
/**
 * Panels Component - Main wrapper for all panel types
 * Converted from src/components/panels/index.js
 * 
 * Renders different panel types based on __typename
 */
import HoursLitePanel from './HoursLitePanel.astro';
import LinkPanel from './LinkPanel.astro';
import GroupPanel from './GroupPanel.astro';
import CardPanel from './CardPanel.astro';
import TextPanel from './TextPanel.astro';
import HoursPanel from './HoursPanel.astro';
import HeroPanel from './HeroPanel.astro';
import CustomPanel from './CustomPanel.astro';

interface Props {
  data: any[];
}

const { data } = Astro.props;

if (!data || data.length === 0) {
  // Return nothing if no panels
}

// Find hours panel for date viewer (if exists)
const hoursPanel = data.find((panel: any) => panel.__typename === 'paragraph__hours_panel');
---

{data && data.length > 0 && (
  <div class="panels-wrapper">
    {hoursPanel && (
      <!-- TODO: Implement HoursPanelDateViewer -->
      <!-- <HoursPanelDateViewer data={hoursPanel} /> -->
    )}
    
    {data.map((panel: any) => {
      const type = panel.__typename;
      const { id } = panel;
      
      // Render appropriate panel based on type
      switch (type) {
        case 'paragraph--hours_panel_lite':
          return <HoursLitePanel data={panel} key={id} />;
        case 'paragraph--link_panel':
          return <LinkPanel data={panel} key={id} />;
        case 'paragraph--group_panel':
          return <GroupPanel data={panel} key={id} />;
        // case 'paragraph--card_panel':
        //   return <CardPanel data={panel} key={id} />;
        case 'paragraph--text_panel':
          return <TextPanel data={panel} key={id} />;
        case 'paragraph--hours_panel':
          return <HoursPanel data={panel} key={id} />;
        case 'paragraph--hero_panel':
          return <HeroPanel data={panel} key={id} />;
        case 'paragraph--custom_panel':
          return <CustomPanel data={panel} key={id} />;
        default:
          return null;
      }
    })}
  </div>
)}

<style>
  .panels-wrapper {
    /* Container for all panels */
  }
</style>
